{"ast":null,"code":"var _jsxFileName = \"E:\\\\REALTIME-CHAT-APP\\\\client\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport Message from './Message';\nimport EmojiPicker from 'emoji-picker-react';\nimport '../styles/Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:3001');\nfunction Chat() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [showPicker, setShowPicker] = useState(false);\n  useEffect(() => {\n    const name = prompt('Enter your username');\n    setUsername(name || 'Guest');\n  }, []);\n  useEffect(() => {\n    socket.on('chat-message', data => {\n      setChat(prev => [...prev, data]);\n    });\n    socket.on('typing', user => {\n      if (user !== username) {\n        setIsTyping(true);\n        setTimeout(() => setIsTyping(false), 2000);\n      }\n    });\n    return () => {\n      socket.off('chat-message');\n      socket.off('typing');\n    };\n  }, [username]);\n  const sendMessage = e => {\n    e.preventDefault();\n    if (message.trim()) {\n      const msgObj = {\n        user: username,\n        text: message,\n        self: true\n      };\n      socket.emit('chat-message', {\n        ...msgObj,\n        self: false\n      });\n      setChat(prev => [...prev, msgObj]);\n      setMessage('');\n      setShowPicker(false);\n    }\n  };\n  const handleTyping = () => {\n    socket.emit('typing', username);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      children: chat.map((msg, index) => /*#__PURE__*/_jsxDEV(Message, {\n        message: msg\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"typing-indicator\",\n      children: \"Someone is typing...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 20\n    }, this), showPicker && /*#__PURE__*/_jsxDEV(EmojiPicker, {\n      onEmojiClick: e => setMessage(prev => prev + e.emoji),\n      height: 350\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chat-form\",\n      onSubmit: sendMessage,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"emoji-btn\",\n        onClick: () => setShowPicker(prev => !prev),\n        children: \"\\uD83D\\uDE0A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: message,\n        onChange: e => {\n          setMessage(e.target.value);\n          handleTyping();\n        },\n        placeholder: \"Type your message...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"rqPgeJmnu4l20ljlTn2EY0/5+xo=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","io","Message","EmojiPicker","jsxDEV","_jsxDEV","socket","Chat","_s","username","setUsername","message","setMessage","chat","setChat","isTyping","setIsTyping","showPicker","setShowPicker","name","prompt","on","data","prev","user","setTimeout","off","sendMessage","e","preventDefault","trim","msgObj","text","self","emit","handleTyping","className","children","map","msg","index","fileName","_jsxFileName","lineNumber","columnNumber","onEmojiClick","emoji","height","onSubmit","type","onClick","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["E:/REALTIME-CHAT-APP/client/src/components/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport Message from './Message';\nimport EmojiPicker from 'emoji-picker-react';\nimport '../styles/Chat.css';\n\nconst socket = io('http://localhost:3001');\n\nfunction Chat() {\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const [chat, setChat] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [showPicker, setShowPicker] = useState(false);\n\n  useEffect(() => {\n    const name = prompt('Enter your username');\n    setUsername(name || 'Guest');\n  }, []);\n\n  useEffect(() => {\n    socket.on('chat-message', data => {\n      setChat(prev => [...prev, data]);\n    });\n\n    socket.on('typing', (user) => {\n      if (user !== username) {\n        setIsTyping(true);\n        setTimeout(() => setIsTyping(false), 2000);\n      }\n    });\n\n    return () => {\n      socket.off('chat-message');\n      socket.off('typing');\n    };\n  }, [username]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    if (message.trim()) {\n      const msgObj = { user: username, text: message, self: true };\n      socket.emit('chat-message', { ...msgObj, self: false });\n      setChat(prev => [...prev, msgObj]);\n      setMessage('');\n      setShowPicker(false);\n    }\n  };\n\n  const handleTyping = () => {\n    socket.emit('typing', username);\n  };\n\n  return (\n    <div className=\"chat-container\">\n      <div className=\"chat-box\">\n        {chat.map((msg, index) => (\n          <Message key={index} message={msg} />\n        ))}\n      </div>\n\n      {isTyping && <div className=\"typing-indicator\">Someone is typing...</div>}\n\n      {showPicker && (\n        <EmojiPicker\n          onEmojiClick={(e) => setMessage(prev => prev + e.emoji)}\n          height={350}\n        />\n      )}\n\n      <form className=\"chat-form\" onSubmit={sendMessage}>\n        <button type=\"button\" className=\"emoji-btn\" onClick={() => setShowPicker(prev => !prev)}>\n          ðŸ˜Š\n        </button>\n        <input\n          type=\"text\"\n          value={message}\n          onChange={(e) => {\n            setMessage(e.target.value);\n            handleTyping();\n          }}\n          placeholder=\"Type your message...\"\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}